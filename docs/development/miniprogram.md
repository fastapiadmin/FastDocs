---
outline: "deep"
title: FastApp ç§»åŠ¨ç«¯å¼€å‘æŒ‡å—
---
# FastApp ç§»åŠ¨ç«¯å¼€å‘æŒ‡å—

## ğŸ“±é¡¹ç›®æ¦‚è¿°

**FastApp** æ˜¯ FastapiAdmin é¡¹ç›®çš„ç§»åŠ¨ç«¯åº”ç”¨ï¼ŒåŸºäº **Uni App** æ¡†æ¶å¼€å‘ï¼Œæ”¯æŒä¸€å¥—ä»£ç å¤šç«¯è¿è¡Œï¼ˆåŒ…æ‹¬ H5ã€å¾®ä¿¡å°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åºã€App ç­‰ï¼‰ã€‚é‡‡ç”¨ Vue 3 + TypeScript + Vite ç­‰ç°ä»£åŒ–æŠ€æœ¯æ ˆï¼Œé›†æˆäº†å®Œå–„çš„ä»£ç è§„èŒƒå’Œå¼€å‘å·¥å…·é“¾ï¼Œä¸ºå¼€å‘è€…æä¾›å¼€ç®±å³ç”¨çš„ç§»åŠ¨ç«¯å¼€å‘è§£å†³æ–¹æ¡ˆã€‚

### æ ¸å¿ƒåŠŸèƒ½

- **ç”¨æˆ·è®¤è¯**ï¼šç™»å½•ã€æ³¨å†Œã€å¯†ç é‡ç½®ã€æƒé™ç®¡ç†
- **é¦–é¡µå±•ç¤º**ï¼šè½®æ’­å›¾ã€å¿«æ·å¯¼èˆªã€é€šçŸ¥å…¬å‘Šã€æ•°æ®ç»Ÿè®¡
- **å·¥ä½œå°**ï¼šä¸šåŠ¡åŠŸèƒ½å…¥å£ï¼Œæ”¯æŒæƒé™æ§åˆ¶
- **ä¸ªäººä¸­å¿ƒ**ï¼šä¸ªäººä¿¡æ¯ã€è®¾ç½®ã€FAQã€é—®é¢˜åé¦ˆ
- **æ•°æ®ç»Ÿè®¡**ï¼šå®æ—¶è®¿å®¢æ•°ã€æµè§ˆé‡ç­‰æ•°æ®å±•ç¤º
- **ä¸»é¢˜åˆ‡æ¢**ï¼šæ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢

### ç³»ç»ŸåŠŸèƒ½ç‰¹æ€§

- ğŸ” **ç”¨æˆ·ç®¡ç†** - æ”¯æŒç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†ç­‰åŠŸèƒ½ï¼Œæä¾›å®Œå–„çš„ç”¨æˆ·ä½“ç³»
- ğŸ“Š **æ•°æ®ç»Ÿè®¡** - æä¾›å®æ—¶æ•°æ®åˆ†æå’Œå¯è§†åŒ–æŠ¥è¡¨ï¼Œå¸®åŠ©æ‚¨æ›´å¥½åœ°äº†è§£ä¸šåŠ¡çŠ¶å†µ
- ğŸ“ **æ–‡ä»¶ç®¡ç†** - æ”¯æŒæ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ã€åˆ†ç±»ç®¡ç†ï¼Œæä¾›å®‰å…¨çš„æ–‡ä»¶å­˜å‚¨æœåŠ¡
- ğŸ”” **æ¶ˆæ¯é€šçŸ¥** - å®æ—¶æ¶ˆæ¯æ¨é€å’Œç³»ç»Ÿé€šçŸ¥ï¼Œç¡®ä¿æ‚¨ä¸ä¼šé”™è¿‡é‡è¦ä¿¡æ¯
- ğŸ›¡ï¸ **æƒé™æ§åˆ¶** - åŸºäºRBACçš„æƒé™ç®¡ç†æ¨¡å‹ï¼Œçµæ´»æ§åˆ¶ç”¨æˆ·è®¿é—®æƒé™
- ğŸ“ **æ—¥å¿—å®¡è®¡** - å®Œæ•´çš„æ“ä½œæ—¥å¿—è®°å½•ï¼Œä¾¿äºè¿½è¸ªå’Œå®¡è®¡ç”¨æˆ·è¡Œä¸º

## ğŸ› ï¸æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Uni App | 3.0.0+ | è·¨å¹³å°ç§»åŠ¨ç«¯å¼€å‘æ¡†æ¶ |
| Vue3 | 3.5.22+ | å‰ç«¯æ¡†æ¶ï¼ˆComposition APIï¼‰ |
| TypeScript | 5.9.2+ | ç±»å‹ç³»ç»Ÿ |
| Vite | 6.0+ | æ„å»ºå·¥å…· |
| Pinia | 2.1+ | çŠ¶æ€ç®¡ç† |
| Wot Design Uni | 1.9.1+ | UI ç»„ä»¶åº“ |
| UnoCSS | 0.58+ | åŸå­åŒ– CSS å¼•æ“ |
| VueUse | 10.7+ | Vue Composition API å·¥å…·é›†åˆ |
| @stomp/stompjs | 7.0+ | WebSocket æ¶ˆæ¯åè®®åº“ |

## ğŸ“é¡¹ç›®ç»“æ„

```
FastApp/
â”œâ”€ public/             # é™æ€èµ„æº
â”‚  â””â”€ favicon.png      # ç½‘ç«™å›¾æ ‡
â”œâ”€ src/                # æºä»£ç 
â”‚  â”œâ”€ api/             # API æ¥å£
â”‚  â”‚  â”œâ”€ auth.ts       # è®¤è¯ç›¸å…³æ¥å£
â”‚  â”‚  â”œâ”€ file.ts       # æ–‡ä»¶ç›¸å…³æ¥å£
â”‚  â”‚  â””â”€ user.ts       # ç”¨æˆ·ç›¸å…³æ¥å£
â”‚  â”œâ”€ components/      # ç»„ä»¶
â”‚  â”‚  â”œâ”€ cu-date-query/ # æ—¥æœŸæŸ¥è¯¢ç»„ä»¶
â”‚  â”‚  â”œâ”€ cu-picker/     # é€‰æ‹©å™¨ç»„ä»¶
â”‚  â”‚  â”œâ”€ qiun-error/    # é”™è¯¯æç¤ºç»„ä»¶
â”‚  â”‚  â””â”€ qiun-loading/  # åŠ è½½ç»„ä»¶
â”‚  â”œâ”€ composables/     # ç»„åˆå¼å‡½æ•°
â”‚  â”‚  â”œâ”€ useNavigationBar.ts # å¯¼èˆªæ ç®¡ç†
â”‚  â”‚  â”œâ”€ useStomp.ts   # WebSocket ç®¡ç†
â”‚  â”‚  â””â”€ useTabbar.ts  # æ ‡ç­¾æ ç®¡ç†
â”‚  â”œâ”€ constants/       # å¸¸é‡å®šä¹‰
â”‚  â”‚  â”œâ”€ index.ts      # å¸¸é‡å®šä¹‰
â”‚  â”‚  â””â”€ storage.constant.ts # å­˜å‚¨é”®å
â”‚  â”œâ”€ enums/           # æšä¸¾å®šä¹‰
â”‚  â”‚  â”œâ”€ api-code.enum.ts # API é”™è¯¯ç 
â”‚  â”‚  â””â”€ api-header.enum.ts # API å¤´éƒ¨
â”‚  â”œâ”€ layouts/         # å¸ƒå±€ç»„ä»¶
â”‚  â”‚  â”œâ”€ default.vue   # é»˜è®¤å¸ƒå±€
â”‚  â”‚  â””â”€ tabbar.vue    # æ ‡ç­¾æ å¸ƒå±€
â”‚  â”œâ”€ pages/           # é¡µé¢æ–‡ä»¶
â”‚  â”‚  â”œâ”€ index/        # é¦–é¡µ
â”‚  â”‚  â”‚  â”œâ”€ data.ts     # æ•°æ®å®šä¹‰
â”‚  â”‚  â”‚  â”œâ”€ index.vue   # é¦–é¡µç»„ä»¶
â”‚  â”‚  â”‚  â””â”€ types.ts    # ç±»å‹å®šä¹‰
â”‚  â”‚  â”œâ”€ login/        # ç™»å½•é¡µ
â”‚  â”‚  â”‚  â””â”€ index.vue   # ç™»å½•ç»„ä»¶
â”‚  â”‚  â”œâ”€ mine/         # ä¸ªäººä¸­å¿ƒ
â”‚  â”‚  â”‚  â”œâ”€ about/      # å…³äºé¡µé¢
â”‚  â”‚  â”‚  â”œâ”€ faq/        # FAQé¡µé¢
â”‚  â”‚  â”‚  â”œâ”€ feedback/   # åé¦ˆé¡µé¢
â”‚  â”‚  â”‚  â”œâ”€ profile/    # ä¸ªäººèµ„æ–™
â”‚  â”‚  â”‚  â”œâ”€ settings/   # è®¾ç½®é¡µé¢
â”‚  â”‚  â”‚  â””â”€ index.vue   # ä¸ªäººä¸­å¿ƒç»„ä»¶
â”‚  â”‚  â””â”€ work/         # å·¥ä½œå°
â”‚  â”‚     â”œâ”€ data.ts     # æ•°æ®å®šä¹‰
â”‚  â”‚     â”œâ”€ index.vue   # å·¥ä½œå°ç»„ä»¶
â”‚  â”‚     â””â”€ types.ts    # ç±»å‹å®šä¹‰
â”‚  â”œâ”€ router/          # è·¯ç”±é…ç½®
â”‚  â”‚  â””â”€ index.ts      # è·¯ç”±é…ç½®æ–‡ä»¶
â”‚  â”œâ”€ static/          # é™æ€èµ„æº
â”‚  â”‚  â”œâ”€ icons/        # å›¾æ ‡
â”‚  â”‚  â”œâ”€ images/       # å›¾ç‰‡
â”‚  â”‚  â””â”€ logo.png      # Logo
â”‚  â”œâ”€ store/           # çŠ¶æ€ç®¡ç†
â”‚  â”‚  â”œâ”€ modules/      # æ¨¡å—
â”‚  â”‚  â”‚  â”œâ”€ theme.store.ts # ä¸»é¢˜ç®¡ç†
â”‚  â”‚  â”‚  â””â”€ user.store.ts # ç”¨æˆ·ç®¡ç†
â”‚  â”‚  â””â”€ index.ts      # çŠ¶æ€ç®¡ç†é…ç½®
â”‚  â”œâ”€ styles/          # æ ·å¼æ–‡ä»¶
â”‚  â”‚  â””â”€ index.scss    # å…¨å±€æ ·å¼
â”‚  â”œâ”€ types/           # TypeScript ç±»å‹å®šä¹‰
â”‚  â”œâ”€ utils/           # å·¥å…·å‡½æ•°
â”‚  â”‚  â”œâ”€ auth.ts       # è®¤è¯å·¥å…·
â”‚  â”‚  â”œâ”€ color.ts      # é¢œè‰²å·¥å…·
â”‚  â”‚  â”œâ”€ index.ts      # å·¥å…·å‡½æ•°
â”‚  â”‚  â”œâ”€ request.ts    # è¯·æ±‚å·¥å…·
â”‚  â”‚  â””â”€ storage.ts    # å­˜å‚¨å·¥å…·
â”‚  â”œâ”€ App.vue          # åº”ç”¨æ ¹ç»„ä»¶
â”‚  â”œâ”€ main.ts          # åº”ç”¨å…¥å£æ–‡ä»¶
â”‚  â”œâ”€ manifest.json    # åº”ç”¨é…ç½®æ–‡ä»¶
â”‚  â”œâ”€ pages.json       # é¡µé¢è·¯ç”±é…ç½®
â”‚  â””â”€ theme.json       # ä¸»é¢˜é…ç½®
â”œâ”€ .env.development    # å¼€å‘ç¯å¢ƒé…ç½®
â”œâ”€ .env.production     # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€ package.json        # é¡¹ç›®ä¾èµ–
â”œâ”€ pages.config.ts     # é¡µé¢é…ç½®
â”œâ”€ tsconfig.json       # TypeScript é…ç½®
â”œâ”€ unocss.config.ts    # UnoCSS é…ç½®
â””â”€ vite.config.ts      # Vite é…ç½®
```

## ğŸ”§ç¯å¢ƒæ­å»º

### 1. ç¯å¢ƒè¦æ±‚

- **Node.js** >= 22
- **pnpm** >= 9

### 2. å®‰è£…ä¾èµ–

```sh
# è¿›å…¥é¡¹ç›®ç›®å½•
cd FastApp

# å®‰è£…é¡¹ç›®ä¾èµ–
pnpm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶é…ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
# API åŸºç¡€åœ°å€
VITE_API_BASE_URL=http://localhost:8001

# API å‰ç¼€
VITE_APP_BASE_API=/api

# å¼€å‘æœåŠ¡å™¨ç«¯å£
VITE_APP_PORT=5180
```

## ğŸš€å¼€å‘æµç¨‹

### 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

#### H5 å¼€å‘

```sh
# å¯åŠ¨ H5 å¼€å‘æœåŠ¡å™¨
pnpm run dev:h5

# è®¿é—®åœ°å€
# http://localhost:5180/app
```

#### å¾®ä¿¡å°ç¨‹åºå¼€å‘

```sh
# å¯åŠ¨å¾®ä¿¡å°ç¨‹åºå¼€å‘æœåŠ¡å™¨
pnpm run dev:mp-weixin

# åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­å¯¼å…¥é¡¹ç›®ç›®å½•ï¼šFastApp/dist/dev/mp-weixin
```

#### å…¶ä»–å¹³å°å¼€å‘

```sh
# å¯åŠ¨æ”¯ä»˜å®å°ç¨‹åºå¼€å‘æœåŠ¡å™¨
pnpm run dev:mp-alipay

# å¯åŠ¨ç™¾åº¦å°ç¨‹åºå¼€å‘æœåŠ¡å™¨
pnpm run dev:mp-baidu

# å¯åŠ¨å­—èŠ‚è·³åŠ¨å°ç¨‹åºå¼€å‘æœåŠ¡å™¨
pnpm run dev:mp-toutiao

# å¯åŠ¨ QQ å°ç¨‹åºå¼€å‘æœåŠ¡å™¨
pnpm run dev:mp-qq
```

## ğŸ“šé¡µé¢å¼€å‘

### 1. åˆ›å»ºæ–°é¡µé¢

1. **åœ¨ `pages.json` ä¸­æ·»åŠ é¡µé¢é…ç½®**ï¼š

```json
{
  "pages": [
    {
      "path": "pages/index/index",
      "style": {
        "navigationBarTitleText": "é¦–é¡µ"
      }
    },
    // å…¶ä»–é¡µé¢...
  ]
}
```

2. **åˆ›å»ºé¡µé¢æ–‡ä»¶**ï¼š

```
FastApp/src/pages/
â””â”€ new-page/
   â”œâ”€ index.vue      # é¡µé¢ç»„ä»¶
   â”œâ”€ data.ts        # æ•°æ®å®šä¹‰ï¼ˆå¯é€‰ï¼‰
   â””â”€ types.ts       # ç±»å‹å®šä¹‰ï¼ˆå¯é€‰ï¼‰
```

3. **é¡µé¢ç¤ºä¾‹**ï¼š

```vue
<template>
  <view class="page">
    <view class="title">æ–°é¡µé¢</view>
    <view class="content">
      <text>{{ message }}</text>
    </view>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue';

const message = ref('Hello FastApp!');
</script>

<style scoped>
.page {
  padding: 20rpx;
}

.title {
  font-size: 32rpx;
  font-weight: bold;
  margin-bottom: 20rpx;
}

.content {
  font-size: 28rpx;
  color: #666;
}
</style>
```

### 2. è·¯ç”±ç®¡ç†

#### é¡µé¢è·³è½¬

```typescript
// æ™®é€šè·³è½¬
uni.navigateTo({
  url: '/pages/new-page/index'
});

// å¸¦å‚æ•°è·³è½¬
uni.navigateTo({
  url: '/pages/new-page/index?id=1&name=test'
});

// é‡å®šå‘è·³è½¬
uni.redirectTo({
  url: '/pages/new-page/index'
});

// è·³è½¬åˆ° tabBar é¡µé¢
uni.switchTab({
  url: '/pages/index/index'
});

// å…³é—­æ‰€æœ‰é¡µé¢ï¼Œæ‰“å¼€æ–°é¡µé¢
uni.reLaunch({
  url: '/pages/new-page/index'
});
```

#### æ¥æ”¶å‚æ•°

```typescript
// åœ¨é¡µé¢ onLoad ç”Ÿå‘½å‘¨æœŸä¸­æ¥æ”¶å‚æ•°
import { onLoad } from '@dcloudio/uni-app';

onLoad((options) => {
  console.log('å‚æ•°ï¼š', options);
  // options.id, options.name
});
```

## ğŸ“¡API è°ƒç”¨

### 1. å°è£…çš„ API å·¥å…·

FastApp ä½¿ç”¨å°è£…çš„ `request.ts` å·¥å…·è¿›è¡Œ API è°ƒç”¨ï¼Œæ”¯æŒè‡ªåŠ¨æ·»åŠ è®¤è¯ tokenã€é”™è¯¯å¤„ç†ç­‰åŠŸèƒ½ã€‚

### 2. API æ¥å£å®šä¹‰

API æ¥å£å®šä¹‰åœ¨ `src/api` ç›®å½•ä¸‹ï¼ŒæŒ‰æ¨¡å—åˆ†ç±»ï¼š

```typescript
// src/api/user.ts ç¤ºä¾‹
import request from '../utils/request';

export const userApi = {
  // è·å–ç”¨æˆ·ä¿¡æ¯
  getUserInfo: () => {
    return request({
      url: '/api/v1/user/info',
      method: 'GET'
    });
  },
  
  // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
  updateUserInfo: (data: any) => {
    return request({
      url: '/api/v1/user/update',
      method: 'POST',
      data
    });
  }
};
```

### 3. è°ƒç”¨ API

```typescript
import { userApi } from '../api/user';

// è°ƒç”¨ API
const getUserInfo = async () => {
  try {
    const res = await userApi.getUserInfo();
    console.log('ç”¨æˆ·ä¿¡æ¯ï¼š', res.data);
  } catch (error) {
    console.error('è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥ï¼š', error);
  }
};

// è°ƒç”¨æ›´æ–°ç”¨æˆ·ä¿¡æ¯ API
const updateUser = async () => {
  try {
    const res = await userApi.updateUserInfo({
      name: 'æ–°åå­—',
      avatar: 'æ–°å¤´åƒ'
    });
    console.log('æ›´æ–°æˆåŠŸï¼š', res.data);
  } catch (error) {
    console.error('æ›´æ–°å¤±è´¥ï¼š', error);
  }
};
```

### 4. WebSocket å®æ—¶é€šä¿¡

FastApp é›†æˆäº† `@stomp/stompjs` åº“ï¼Œæ”¯æŒ WebSocket å®æ—¶é€šä¿¡ï¼Œé€šè¿‡å°è£…çš„ `useStomp` ç»„åˆå¼å‡½æ•°å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨ï¼š

```typescript
// ä½¿ç”¨ WebSocket
import { useStomp } from '../composables/useStomp';

const {
  connect,
  disconnect,
  subscribe,
  send,
  isConnected
} = useStomp();

// è¿æ¥ WebSocket
const initWebSocket = () => {
  connect({
    url: 'ws://localhost:8001/ws',
    onConnect: () => {
      console.log('WebSocket è¿æ¥æˆåŠŸ');
      // è®¢é˜…æ¶ˆæ¯
      subscribe('/topic/messages', (message) => {
        console.log('æ”¶åˆ°æ¶ˆæ¯ï¼š', message);
      });
    },
    onError: (error) => {
      console.error('WebSocket è¿æ¥å¤±è´¥ï¼š', error);
    }
  });
};

// å‘é€æ¶ˆæ¯
const sendMessage = () => {
  if (isConnected.value) {
    send('/app/message', {
      content: 'Hello WebSocket!'
    });
  }
};

// æ–­å¼€è¿æ¥
const closeWebSocket = () => {
  disconnect();
};
```

## ğŸ”è®¤è¯ç®¡ç†

### 1. ç™»å½•æµç¨‹

```typescript
import { authApi } from '../api/auth';
import { useUserStore } from '../store/modules/user.store';

const userStore = useUserStore();

const login = async (username: string, password: string) => {
  try {
    const res = await authApi.login({
      username,
      password
    });
    
    // ä¿å­˜ token
    userStore.setToken(res.data.token);
    
    // è·å–ç”¨æˆ·ä¿¡æ¯
    await userStore.getUserInfo();
    
    // è·³è½¬åˆ°é¦–é¡µ
    uni.switchTab({ url: '/pages/index/index' });
  } catch (error) {
    console.error('ç™»å½•å¤±è´¥ï¼š', error);
  }
};
```

### 2. ç™»å‡ºæµç¨‹

```typescript
import { useUserStore } from '../store/modules/user.store';

const userStore = useUserStore();

const logout = () => {
  // æ¸…é™¤ token å’Œç”¨æˆ·ä¿¡æ¯
  userStore.logout();
  
  // è·³è½¬åˆ°ç™»å½•é¡µ
  uni.redirectTo({ url: '/pages/login/index' });
};
```

### 3. æƒé™æ§åˆ¶

å¯ä»¥ä½¿ç”¨å…¨å±€è·¯ç”±å®ˆå«æˆ–é¡µé¢çº§æƒé™æ£€æŸ¥æ¥å®ç°æƒé™æ§åˆ¶ï¼š

```typescript
// åœ¨é¡µé¢ onLoad ä¸­æ£€æŸ¥æƒé™
import { onLoad } from '@dcloudio/uni-app';
import { useUserStore } from '../store/modules/user.store';

const userStore = useUserStore();

onLoad(() => {
  // æ£€æŸ¥æ˜¯å¦ç™»å½•
  if (!userStore.token) {
    uni.redirectTo({ url: '/pages/login/index' });
    return;
  }
  
  // æ£€æŸ¥ç”¨æˆ·æƒé™
  if (!userStore.hasPermission('required_permission')) {
    uni.showToast({
      title: 'æƒé™ä¸è¶³',
      icon: 'none'
    });
    uni.navigateBack();
  }
});
```

## ğŸ¨UI ç»„ä»¶

### 1. ä½¿ç”¨ Wot Design Uni

FastApp ä½¿ç”¨ **Wot Design Uni** ä½œä¸º UI ç»„ä»¶åº“ï¼Œæä¾›äº†ä¸°å¯Œçš„ç§»åŠ¨ç«¯ç»„ä»¶ï¼š

```vue
<template>
  <view class="page">
    <!-- æŒ‰é’® -->
    <wd-button type="primary" @click="handleClick">ä¸»è¦æŒ‰é’®</wd-button>
    
    <!-- è¾“å…¥æ¡† -->
    <wd-input v-model="value" placeholder="è¯·è¾“å…¥å†…å®¹" />
    
    <!-- åˆ—è¡¨ -->
    <wd-list>
      <wd-list-item title="æ ‡é¢˜" value="å€¼" />
      <wd-list-item title="æ ‡é¢˜2" value="å€¼2" />
    </wd-list>
    
    <!-- å¼¹çª— -->
    <wd-popup v-model:visible="popupVisible" title="å¼¹çª—æ ‡é¢˜">
      <view>å¼¹çª—å†…å®¹</view>
    </wd-popup>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue';

const value = ref('');
const popupVisible = ref(false);

const handleClick = () => {
  popupVisible.value = true;
};
</script>
```

### 2. ä½¿ç”¨ UnoCSS

FastApp é›†æˆäº† UnoCSS åŸå­åŒ– CSS å¼•æ“ï¼Œæ”¯æŒç±»åæ–¹å¼å¿«é€Ÿå¼€å‘ï¼š

```vue
<template>
  <view class="flex flex-col items-center p-4">
    <view class="text-xl font-bold mb-4">Hello FastApp</view>
    <view class="w-full max-w-md bg-white rounded-lg shadow-md p-4">
      <view class="text-gray-700">Welcome to FastApp</view>
    </view>
  </view>
</template>
```

### 3. è‡ªå®šä¹‰ç»„ä»¶

å¯ä»¥åœ¨ `src/components` ç›®å½•ä¸‹åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶ï¼š

```vue
<!-- src/components/custom-button.vue -->
<template>
  <view class="custom-button" @click="$emit('click')">
    <slot></slot>
  </view>
</template>

<script setup lang="ts">
defineEmits(['click']);
</script>

<style scoped>
.custom-button {
  padding: 12rpx 24rpx;
  background-color: #007aff;
  color: #fff;
  border-radius: 8rpx;
  text-align: center;
}
</style>
```

## ğŸ“±å¤šå¹³å°é€‚é…

### 1. æ¡ä»¶ç¼–è¯‘

ä½¿ç”¨ Uni App çš„æ¡ä»¶ç¼–è¯‘è¯­æ³•ï¼Œå¯ä»¥ä¸ºä¸åŒå¹³å°ç¼–å†™ä¸åŒçš„ä»£ç ï¼š

```vue
<template>
  <view>
    <!-- #ifdef H5 -->
    <view>è¿™æ˜¯ H5 å¹³å°çš„å†…å®¹</view>
    <!-- #endif -->
    
    <!-- #ifdef MP-WEIXIN -->
    <view>è¿™æ˜¯å¾®ä¿¡å°ç¨‹åºå¹³å°çš„å†…å®¹</view>
    <!-- #endif -->
    
    <!-- #ifdef APP-PLUS -->
    <view>è¿™æ˜¯ App å¹³å°çš„å†…å®¹</view>
    <!-- #endif -->
  </view>
</template>

<script setup lang="ts">
// #ifdef H5
console.log('H5 å¹³å°');
// #endif

// #ifdef MP-WEIXIN
console.log('å¾®ä¿¡å°ç¨‹åºå¹³å°');
// #endif
</script>

<style scoped>
/* #ifdef H5 */
.view {
  font-size: 16px;
}
/* #endif */

/* #ifdef MP-WEIXIN */
.view {
  font-size: 28rpx;
}
/* #endif */
</style>
```

### 2. å¹³å°ç‰¹æœ‰ API

ä½¿ç”¨å¹³å°ç‰¹æœ‰ API æ—¶ï¼Œéœ€è¦æ³¨æ„æ·»åŠ æ¡ä»¶ç¼–è¯‘ï¼š

```typescript
// è°ƒç”¨å¾®ä¿¡å°ç¨‹åºç‰¹æœ‰ API
// #ifdef MP-WEIXIN
wx.getLocation({
  type: 'wgs84',
  success: (res) => {
    console.log('ä½ç½®ä¿¡æ¯ï¼š', res);
  }
});
// #endif

// è°ƒç”¨ App ç‰¹æœ‰ API
// #ifdef APP-PLUS
plus.device.getInfo({
  success: (info) => {
    console.log('è®¾å¤‡ä¿¡æ¯ï¼š', info);
  }
});
// #endif
```

## ğŸš€æ€§èƒ½ä¼˜åŒ–

### 1. ä»£ç ä¼˜åŒ–

- **å‡å°‘é¡µé¢å±‚çº§**ï¼šå°½é‡å‡å°‘é¡µé¢åµŒå¥—å±‚çº§ï¼Œæœ€å¤šä¸è¶…è¿‡ 5 å±‚
- **æŒ‰éœ€åŠ è½½**ï¼šä½¿ç”¨åˆ†åŒ…åŠ è½½ã€ç»„ä»¶æŒ‰éœ€å¯¼å…¥ç­‰æ–¹å¼å‡å°‘åˆå§‹åŒ…å¤§å°
- **é¿å…é¢‘ç¹æ›´æ–°**ï¼šä½¿ç”¨ `nextTick` åˆå¹¶æ›´æ–°ï¼Œé¿å…é¢‘ç¹è§¦å‘æ¸²æŸ“
- **ä½¿ç”¨è™šæ‹Ÿåˆ—è¡¨**ï¼šé•¿åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿåˆ—è¡¨ï¼Œé¿å…ä¸€æ¬¡æ€§æ¸²æŸ“è¿‡å¤šæ•°æ®

### 2. ç½‘ç»œä¼˜åŒ–

- **ç¼“å­˜æ•°æ®**ï¼šä½¿ç”¨æœ¬åœ°å­˜å‚¨ç¼“å­˜ä¸å¸¸å˜åŒ–çš„æ•°æ®
- **è¯·æ±‚åˆå¹¶**ï¼šåˆå¹¶å¤šä¸ªè¯·æ±‚ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚æ¬¡æ•°
- **å»¶è¿ŸåŠ è½½**ï¼šéå…³é”®èµ„æºå»¶è¿ŸåŠ è½½
- **ä½¿ç”¨ WebSocket**ï¼šå®æ—¶æ•°æ®ä½¿ç”¨ WebSocketï¼Œå‡å°‘è½®è¯¢

### 3. å­˜å‚¨ä¼˜åŒ–

- **åˆç†ä½¿ç”¨æœ¬åœ°å­˜å‚¨**ï¼šæ ¹æ®æ•°æ®ç±»å‹é€‰æ‹©åˆé€‚çš„å­˜å‚¨æ–¹å¼ï¼ˆlocalStorageã€sessionStorageã€IndexedDBï¼‰
- **æ¸…ç†è¿‡æœŸæ•°æ®**ï¼šå®šæœŸæ¸…ç†è¿‡æœŸæˆ–æ— ç”¨çš„æ•°æ®
- **åŠ å¯†æ•æ„Ÿæ•°æ®**ï¼šæ•æ„Ÿæ•°æ®ï¼ˆå¦‚ tokenï¼‰è¿›è¡ŒåŠ å¯†å­˜å‚¨

## ğŸ“¦æ‰“åŒ…å‘å¸ƒ

### 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

#### H5 æ„å»º

```bash
pnpm run build:h5

# æ„å»ºäº§ç‰©åœ¨ dist/build/h5 ç›®å½•
```

#### å¾®ä¿¡å°ç¨‹åºæ„å»º

```bash
pnpm run build:mp-weixin

# æ„å»ºäº§ç‰©åœ¨ dist/build/mp-weixin ç›®å½•
```

#### å…¶ä»–å¹³å°æ„å»º

```bash
# æ„å»ºæ”¯ä»˜å®å°ç¨‹åº
pnpm run build:mp-alipay

# æ„å»ºç™¾åº¦å°ç¨‹åº
pnpm run build:mp-baidu

# æ„å»ºå­—èŠ‚è·³åŠ¨å°ç¨‹åº
pnpm run build:mp-toutiao

# æ„å»º QQ å°ç¨‹åº
pnpm run build:mp-qq
```

### 2. å‘å¸ƒæµç¨‹

#### H5 éƒ¨ç½²

1. æ‰§è¡Œæ„å»ºå‘½ä»¤ï¼š`pnpm run build:h5`
2. å°† `dist/build/h5` ç›®å½•éƒ¨ç½²åˆ° Web æœåŠ¡å™¨
3. é…ç½®æœåŠ¡å™¨æ”¯æŒ SPA è·¯ç”±ï¼ˆå¦‚ Nginx çš„ `try_files`ï¼‰

#### å°ç¨‹åºå‘å¸ƒ

1. æ‰§è¡Œå¯¹åº”å¹³å°çš„æ„å»ºå‘½ä»¤
2. ä½¿ç”¨å¯¹åº”å¹³å°çš„å¼€å‘è€…å·¥å…·æ‰“å¼€æ„å»ºäº§ç‰©ç›®å½•
3. åœ¨å¼€å‘è€…å·¥å…·ä¸­ä¸Šä¼ ä»£ç å¹¶æäº¤å®¡æ ¸

#### App æ‰“åŒ…

1. ä½¿ç”¨ HBuilderX æ‰“å¼€é¡¹ç›®
2. é…ç½® App ç›¸å…³ä¿¡æ¯ï¼ˆå›¾æ ‡ã€å¯åŠ¨é¡µç­‰ï¼‰
3. é€‰æ‹©äº‘æ‰“åŒ…æˆ–æœ¬åœ°æ‰“åŒ…
4. ä¸‹è½½å®‰è£…åŒ…å¹¶å‘å¸ƒåˆ°åº”ç”¨å•†åº—

## ğŸ›å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

### 1. å¼€å‘ç¯å¢ƒé—®é¢˜

**é—®é¢˜**ï¼šH5 å¼€å‘æ—¶è·¨åŸŸé”™è¯¯
**è§£å†³æ–¹æ¡ˆ**ï¼šåœ¨ `vite.config.ts` ä¸­é…ç½®ä»£ç†ï¼š

```typescript
// vite.config.ts
proxy: {
  [env.VITE_APP_BASE_API]: {
    changeOrigin: true,
    target: env.VITE_API_BASE_URL,
  },
}
```

**é—®é¢˜**ï¼šå¾®ä¿¡å°ç¨‹åºå¼€å‘æ—¶ API è¯·æ±‚å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**ï¼šåœ¨å¾®ä¿¡å…¬ä¼—å¹³å°è®¾ç½®åˆæ³•åŸŸåï¼Œæˆ–åœ¨å¼€å‘è€…å·¥å…·ä¸­å¼€å¯ã€Œä¸æ ¡éªŒåˆæ³•åŸŸåã€é€‰é¡¹ã€‚

### 2. è¿è¡Œæ—¶é—®é¢˜

**é—®é¢˜**ï¼šé¡µé¢ç™½å±
**è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ã€API è°ƒç”¨é”™è¯¯ï¼ŒæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ã€‚

**é—®é¢˜**ï¼šæ•°æ®åŠ è½½å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ŒAPI åœ°å€æ˜¯å¦æ­£ç¡®ï¼Œåç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸ã€‚

**é—®é¢˜**ï¼šæ ·å¼é”™ä¹±
**è§£å†³æ–¹æ¡ˆ**ï¼šæ£€æŸ¥æ ·å¼ä»£ç ï¼Œä½¿ç”¨æ¡ä»¶ç¼–è¯‘é€‚é…ä¸åŒå¹³å°ã€‚

### 3. å‘å¸ƒé—®é¢˜

**é—®é¢˜**ï¼šå¾®ä¿¡å°ç¨‹åºå®¡æ ¸å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**ï¼šæ ¹æ®å®¡æ ¸åé¦ˆä¿®æ”¹ä»£ç ï¼Œç¡®ä¿ç¬¦åˆå¾®ä¿¡å°ç¨‹åºè§„èŒƒã€‚

**é—®é¢˜**ï¼šåŒ…å¤§å°è¶…è¿‡é™åˆ¶
**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨åˆ†åŒ…åŠ è½½ã€æŒ‰éœ€å¯¼å…¥ç»„ä»¶ã€å‹ç¼©èµ„æºç­‰æ–¹å¼å‡å°‘åŒ…å¤§å°ã€‚

## ğŸ“šä»£ç è§„èŒƒ

é¡¹ç›®é›†æˆäº†å®Œå–„çš„ä»£ç è§„èŒƒå·¥å…·ï¼š

```bash
# ESLint æ£€æŸ¥å¹¶è‡ªåŠ¨ä¿®å¤
pnpm run lint:eslint

# Prettier æ ¼å¼åŒ–
pnpm run lint:prettier

# Stylelint æ£€æŸ¥æ ·å¼
pnpm run lint:stylelint

# TypeScript ç±»å‹æ£€æŸ¥
pnpm run type-check
```

## ğŸ“šè‡ªåŠ¨å¯¼å…¥

é¡¹ç›®é…ç½®äº†è‡ªåŠ¨å¯¼å…¥ï¼Œä»¥ä¸‹å†…å®¹æ— éœ€æ‰‹åŠ¨å¯¼å…¥ï¼š

- Vue 3 APIï¼ˆ`ref`, `computed`, `watch` ç­‰ï¼‰
- uni-app APIï¼ˆ`uni.request`, `uni.navigateTo` ç­‰ï¼‰
- Piniaï¼ˆ`defineStore`, `storeToRefs` ç­‰ï¼‰
- è·¯ç”±ï¼ˆ`useRouter`, `useRoute` ç­‰ï¼‰
- ç»„ä»¶åº“å·¥å…·ï¼ˆ`useToast`, `useMessage` ç­‰ï¼‰
- `src/composables` ç›®å½•ä¸‹çš„ç»„åˆå¼å‡½æ•°
- `src/utils` ç›®å½•ä¸‹çš„å·¥å…·å‡½æ•°
- `src/api` ç›®å½•ä¸‹çš„ API å‡½æ•°

## ğŸ“šå‚è€ƒæ–‡æ¡£

- **Uni App å®˜æ–¹æ–‡æ¡£**ï¼š[https://uniapp.dcloud.io/](https://uniapp.dcloud.io/)
- **Wot Design Uni æ–‡æ¡£**ï¼š[https://wot-design-uni.webapp.plus/](https://wot-design-uni.webapp.plus/)
- **Vue3 å®˜æ–¹æ–‡æ¡£**ï¼š[https://cn.vuejs.org/](https://cn.vuejs.org/)
- **TypeScript å®˜æ–¹æ–‡æ¡£**ï¼š[https://www.typescriptlang.org/](https://www.typescriptlang.org/)
- **å¾®ä¿¡å°ç¨‹åºå¼€å‘æ–‡æ¡£**ï¼š[https://developers.weixin.qq.com/miniprogram/dev/framework/](https://developers.weixin.qq.com/miniprogram/dev/framework/)

## ğŸ¤è´¡çŒ®æŒ‡å—

æ¬¢è¿ä¸º FastApp é¡¹ç›®è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„è®¸å¯åè®®

FastApp é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯åè®®ï¼Œè¯¦è§ [LICENSE](https://github.com/fastapiadmin/FastApp/blob/master/LICENSE) æ–‡ä»¶ã€‚
